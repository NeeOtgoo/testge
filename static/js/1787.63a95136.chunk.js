"use strict";(self.webpackChunkemind=self.webpackChunkemind||[]).push([[1787],{41787:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var r,n=s(19812),a=s(72791),i=s(29439),l=s(30168),o=s(50419),m=s(90785),d=s(73332),c=s(49389),x=s(87309),f=s(29529),u=s(38999),h=s(15471),g=s(64880),p=s(26872),b=s(27570),j=s(84376),w=s(82630),v=s(53719),y=s(80184),N=(0,b.Ps)(r||(r=(0,l.Z)(["\n    mutation tokenAuth($username: String!, $password: String!){\n        tokenAuth(username: $username, password: $password) {\n\t\t\tsuccess,\n\t\t\terrors,\n\t\t\tunarchiving,\n\t\t\ttoken,\n\t\t\t# refreshToken,\n\t\t\tunarchiving,\n\t\t\tuser {\n\t\t\t\tid,\n\t\t\t\tfirstName,\n\t\t\t\tlastName,\n\t\t\t\tusername,\n\t\t\t}\n        }\n    }\n"]))),Z=function(e){var t=(0,g.k6)(),s=(0,a.useContext)(v.S),r=s.user,n=s.refetch,l=localStorage.getItem(h.UA),b=(0,a.useState)(!1),Z=(0,i.Z)(b,2),k=Z[0],A=Z[1];var I=(0,j.D)(N,{onCompleted:function(e){if(!0===e.tokenAuth.success)o.ZP.success("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u043d\u044d\u0432\u0442\u044d\u0440\u043b\u044d\u044d!"),localStorage.setItem(h.UA,e.tokenAuth.token),n();else A(!0)}}),S=(0,i.Z)(I,2),P=S[0],C=S[1].loading;return k&&setTimeout((function(){A(!1)}),3e3),(0,a.useEffect)((function(){l&&r&&t.push("/app/home")}),[r,l,t]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(p.ww.div,{initial:{opacity:0,marginBottom:0},animate:{opacity:k?1:0,marginBottom:k?20:0},children:(0,y.jsx)(m.Z,{type:"error",showIcon:!0,message:(0,y.jsx)(w.Z,{id:"login-fail"})})}),(0,y.jsxs)(d.Z,{layout:"vertical",name:"login-form",onFinish:function(e){P({variables:{username:e.username,password:e.password}})},children:[(0,y.jsx)(d.Z.Item,{name:"username",label:(0,y.jsx)(w.Z,{id:"username"}),rules:[{required:!0,message:"\u041d\u044d\u0432\u0442\u0440\u044d\u0445 \u043d\u044d\u0440 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}],children:(0,y.jsx)(c.Z,{prefix:(0,y.jsx)(f.Z,{className:"text-primary"})})}),(0,y.jsx)(d.Z.Item,{name:"password",label:(0,y.jsx)("div",{children:(0,y.jsx)("span",{children:(0,y.jsx)(w.Z,{id:"password"})})}),rules:[{required:!0,message:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}],children:(0,y.jsx)(c.Z.Password,{prefix:(0,y.jsx)(u.Z,{className:"text-primary"})})}),(0,y.jsx)(d.Z.Item,{children:(0,y.jsxs)(x.Z,{type:"primary",htmlType:"submit",block:!0,loading:C,children:[" ",(0,y.jsx)(w.Z,{id:"main.login"})]})})]})]})};Z.defaultProps={otherSignIn:!0,showForgetPassword:!1};var k=Z,A=s(2703),I=function(){var e=(0,n.Z)().domainData;return(0,y.jsx)("div",{className:"min-h-screen overflow-hidden px-3 pt-2 bg-emind xl:bg-background",children:(0,y.jsx)("div",{className:(0,A.AK)("-m-2 sm:-mx-8 p-3 sm:px-8 relative h-screen lg:overflow-hidden","before:hidden before:xl:block before:content-[''] before:w-[57%] before:-mt-[28%] before:-mb-[16%] before:-ml-[13%] before:absolute before:inset-y-0 before:left-0 before:transform before:rotate-[-4.5deg] before:bg-emind-2/20 before:rounded-[100%]","after:hidden after:xl:block after:content-[''] after:w-[57%] after:-mt-[20%] after:-mb-[13%] after:-ml-[13%] after:absolute after:inset-y-0 after:left-0 after:transform after:rotate-[-4.5deg] after:bg-emind after:rounded-[100%]"),children:(0,y.jsx)("div",{className:"container relative z-10 sm:px-10",children:(0,y.jsxs)("div",{className:"block grid-cols-2 gap-4 xl:grid",children:[(0,y.jsxs)("div",{className:"flex-col hidden min-h-screen xl:flex",children:[(0,y.jsx)("a",{href:"",className:"flex items-center pt-5 -intro-x",children:(0,y.jsx)("img",{alt:"Emind \u0441\u0443\u0440\u0433\u0443\u0443\u043b\u0438\u0439\u043d \u04e9\u043c\u043d\u04e9\u0445 \u043d\u0430\u0441\u043d\u044b \u0431\u043e\u043b\u043e\u0432\u0441\u0440\u043e\u043b\u044b\u043d \u0441\u0438\u0441\u0442\u0435\u043c",className:"w-20",src:e.logo})}),(0,y.jsxs)("div",{className:"my-auto",children:[(0,y.jsx)("img",{alt:"Emind \u0441\u0443\u0440\u0433\u0443\u0443\u043b\u0438\u0439\u043d \u04e9\u043c\u043d\u04e9\u0445 \u043d\u0430\u0441\u043d\u044b \u0431\u043e\u043b\u043e\u0432\u0441\u0440\u043e\u043b\u044b\u043d \u0441\u0438\u0441\u0442\u0435\u043c",className:"w-1/2 -mt-16 -intro-x",src:"/img/login.svg"}),(0,y.jsx)("div",{className:"mt-10 text-3xl font-medium leading-tight text-white -intro-x",children:"\u0422\u044d\u043d\u0433\u044d\u0440\u0438\u0439\u043d \u0441\u0443\u0440\u0433\u0443\u0443\u043b\u044c"})]})]}),(0,y.jsx)("div",{className:"flex h-screen py-5 my-10 xl:h-auto xl:py-0 xl:my-0",children:(0,y.jsxs)("div",{className:"w-full px-5 py-8 bg-background mx-auto my-auto rounded-md shadow-md xl:ml-20 xl:bg-transparent sm:px-8 xl:p-0 xl:shadow-none sm:w-3/4 lg:w-2/4 xl:w-auto",children:[(0,y.jsx)("img",{alt:"Emind \u0441\u0443\u0440\u0433\u0443\u0443\u043b\u0438\u0439\u043d \u04e9\u043c\u043d\u04e9\u0445 \u043d\u0430\u0441\u043d\u044b \u0431\u043e\u043b\u043e\u0432\u0441\u0440\u043e\u043b\u044b\u043d \u0441\u0438\u0441\u0442\u0435\u043c",className:"w-44 mx-auto my-4",src:e.logo}),(0,y.jsx)(k,{}),(0,y.jsxs)("div",{className:"mt-10 text-center intro-x xl:mt-24 text-slate-600 xl:text-left",children:[(0,y.jsx)("a",{className:"text-primary ",href:"",children:"\u04ae\u0439\u043b\u0447\u0438\u043b\u0433\u044d\u044d\u043d\u0438\u0439 \u043d\u04e9\u0445\u0446\u04e9\u043b"})," ","&"," ",(0,y.jsx)("a",{className:"text-primary ",href:"",children:"\u041d\u0443\u0443\u0446\u043b\u0430\u043b\u044b\u043d \u0431\u043e\u0434\u043b\u043e\u0433\u043e"})]})]})})]})})})})}}}]);
//# sourceMappingURL=1787.63a95136.chunk.js.map